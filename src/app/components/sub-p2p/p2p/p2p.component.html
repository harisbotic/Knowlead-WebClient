<article class="slds-card slds-card--narrow" [class.slds-theme--alert-texture]="p2p.isDeleted" *ngIf="p2p">
  <div class="slds-card__header slds-grid">
    <header class="slds-media slds-media--center slds-has-flexi-truncate">
      <div class="slds-media__figure">
        <svg aria-hidden="true" class="slds-icon slds-icon-standard-contact slds-icon--small">
          <use xlink:href="/assets/icons/standard-sprite/svg/symbols.svg#contact"></use>
        </svg>
      </div>
      <div class="slds-media__body slds-truncate">
        <h2>
          <a routerLink="/p2p/{{p2p.p2pId}}" class="slds-text-link--reset">
            <span class="slds-text-heading--medium">{{p2p.title}}</span>
          </a>
          <a routerLink="/profile/{{p2p.createdById}}" class="slds-text-link--reset">
            <span class="slds-text-heading--small">{{"p2p|by" | translate}}: {{fullName(p2p.createdBy)}}</span>
          </a>
        </h2>
      </div>
    </header>
    <div class="slds-no-flex">
      <div *ngIf="deletable()">
        <button type="button" nglButtonIcon (click)="deleted()">
          <ngl-icon icon="delete"></ngl-icon>
        </button>
      </div>
      <div *ngIf="callable()">
        <button type="button" nglButtonIcon (click)="call()">
          <ngl-icon icon="call"></ngl-icon>
        </button>
      </div>
    </div>
  </div>
  <div class="slds-card__body">
    <div>
      {{"p2p|fos" | translate}}: {{p2p.fos?.name}}
    </div>
    <div>
      {{"p2p|text" | translate}}: {{p2p.text}}
    </div>
  </div>
  <div class="slds-card__footer">
    {{"p2p|deadline" | translate}}: {{p2p.deadline | date}}<br/>
    <ngl-icon icon="info" *ngIf="p2p.scheduledWithId"></ngl-icon>
  </div>
</article>